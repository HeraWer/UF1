package botiga;

import java.util.Scanner;
import java.util.TreeMap;

public class Botiga {

	private TreeMap<String, Float> juegos = new TreeMap<String, Float>(String.CASE_INSENSITIVE_ORDER);

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		Botiga b = new Botiga();
		b.menu(b);

	}

	public void menu(Botiga b) {

		System.out.println("Elige una opción");
		System.out.println("1- Introduce un juego");
		System.out.println("2- Modifica el precio");
		System.out.println("3- Elimnar producto");
		System.out.println("4- Mostrar todos los juegos alfabeticamente");
		System.out.println("5- Salir");
		b.opcion(b);

	}

	public void opcion(Botiga b) {
		Scanner lector = new Scanner(System.in);
		// AQUI COMPRUEBO QUE EL USUARIO ESCRIBA UNA OPCION CORRECTA
		int opcion = 0;
		boolean correcto = true;
		while (correcto) {
			opcion = lector.nextInt();
			if (opcion > 0 && opcion < 6) {
				correcto = false;
			} else {
				System.out.println("La opcion selecciona no esta en ninguna de las opciones");
			}
		}
		
		// UNA VEZ TENEMOS DICHA OPCION LA ENVIO AL METODO ADECUADO PARA TRATARLA
		if(opcion == 1) {
			b.introducir(b, juegos);
		}else if(opcion == 2) {
			b.modificar();
		}else if(opcion == 3) {
			b.eliminar();
		}else if(opcion == 4) {
			b.mostrar();
		}else if(opcion == 5) {
			System.out.println("Hasta pronto");
		}
	}
	
	public void introducir(Botiga b, TreeMap juegos) {
		Scanner lector = new Scanner(System.in);
		System.out.println("Dime el nombre del juego");
		String n = lector.nextLine();
		System.out.println(n);
		if(!existe(n, juegos)) {
			System.out.println("Introduce el precio");
			float price = lector.nextFloat();
			System.out.println(n);
			b.juegos.put(n, price);
			b.menu(b);
		}else {
			System.out.println("Este juego ya existe, volviendo al menu...");
			b.menu(b);
		}
	}
	
	public void modificar() {
		
	}
	
	public void eliminar() {
		
	}
	
	public void mostrar() {
		juegos.forEach((k, v) -> System.out.println("Juego: " + k + " Precio: " + v));
	}
	
	public boolean existe(String nom, TreeMap juegos) {
		if(juegos.containsKey(nom)) {
			return true;
		}else {
			return false;
		}
	}

}
